import java.util.List;

//import java.io.IOException;

public class Test {

	public static void main(String[] args) throws UnbalancedException {
		// TODO Auto-generated method stub
		System.out.print("Test\n\n");
		UrltoJson url = new UrltoJson();
		String path = "https://openlibrary.org/books/"+args[0]+".json";
		String res = url.download(path);
		Dictionary dict = new Dictionary(args[0]);
		try {
			
			dict.fromString(res);
		}
		catch (UndersizeException e) {
			System.out.print ("Undersize\n");
			e.printStackTrace();
		}
		catch (UnbalancedException e) {
			System.out.print ("Unbalanced\n");			
			e.printStackTrace();
		}
		catch (InvalidRangeException e) {
			System.out.print("InvalidRange\n");
			e.printStackTrace();
		}
		dict.print_all();
		List <String> wordlist = dict.load();
		for(String word : wordlist) {
			System.out.print(word + "\n");
		}
		
	}

}
